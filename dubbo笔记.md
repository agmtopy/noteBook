dubbo笔记

#### 架构设计
1.服务域/实体域/会话域的分离
实体域：任何框架中，总会有核心领域模型，比如spring的bean，struts的Action,Dubbo的Service。这个核心领域模型以及组成部分称为实体域，它代表着我们要操作的目标本身。实体域通常是线程安全的。
服务域：服务域也就是行为域，它是组件的功能集，同时也复杂会话域和实体域的生命周期管理，比如spring的ApplicationContext,Dubbo的ServiceManager.服务域的对象通常会比较重，并且是线程安全的，并且以单一实列服务与所有的调用。
会话域：会话的重要概念是上下文，上下文通常持有交互过程中的状态变量。会话对象通常比较轻，每次请求都重新创建实例，请求结束后销毁。简而言之，就是把元信息交给实体域持有，每次请求中的临时状态由会话域持有，由服务域贯穿整个过程。

在重要的过程上设置拦截接口
拦截接口，通常是把过程本身用一个对象封装起来，传给拦截器链，比如：远程调用主过程为invoke(),那拦截器接口通常为invoke(invocation),invocation对象封装了本来要执行过程的上下文，并且invocation里有一个invoke()方法，由拦截器决定什么时候执行，同时，invocation也代表拦截器行为本身，这样上一个拦截器的invocation实际上是包装下一拦截器的执行过程，直到最后一个拦截器包装的是最终的invoke()过程。

重要的状态的变更事件并留出监听接口

扩展接口职责尽可能的单一，具有可组合性

不要控制外部对象的生命周期
